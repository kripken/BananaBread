<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>BananaBread</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="//www.mozilla.org/tabzilla/media/css/tabzilla.css" rel="stylesheet" />
  </head>
  <body>
    <a href="http://www.mozilla.org/" id="tabzilla">mozilla</a>
    <div id="main-container">
      <div class="demo-title">Bananabread Demo</div>
      <div class="section progress-area">
        <div class="status">
          <div class="status-content loading">
            <div class="preview">
              <div class="preview-content low">
                <div class="description">
                  A small arena to fight in. No exploration, just combat!
                </div>
              </div>
              <div class="preview-content medium">
                <div class="description">
                  A large castle with two separated towers. Walk the grounds, climb up the towers, and make sure to look at the reflections in the water!
                </div>
              </div>
              <div class="preview-content high">
                <div class="description">
                  A large underground complex with a huge chamber of lava as well as side rooms with pools of water and intricate columns. Notice the texture effects on the walls and other visual effects like glare on the lava itself. This level is very large and detail levels are set to the max - it is designed to stress your browser. (Tip: Find the three teleporters!)
                </div>
              </div>
              <div class="preview-content four">
                <div class="description">
                  A sci-fi styled space with multiple levels of narrow walkways. Use a combination of careful jumping, falling, and the red pads to move around! (This level is experimental.)
                </div>
              </div>
              <div class="preview-content five">
                <div class="description">
                  A smaller version of "Lava Chamber" with a few small side rooms. Perfect for fighting bots in! (This level is experimental.)
                </div>
              </div>
              <div class="preview-content six">
                <div class="description">
                  Experimental multiplayer.
                </div>
              </div>
              <div class="level-title">Preparing<span></span></div>
              <div class="preview-content seven">
                <div class="description">
                  Experimental multiplayer.
                </div>
              </div>
              <div class="level-title">Preparing<span></span></div>
            </div>
            <div class="progress-container">
              <span id="status-text">Downloading...</span>
              <progress value="0" max="100" id="progress"></progress>
            </div>
            <div class="status-content error hide">
              <span class="title">Oops!</span>
              <p>There was a problem starting Bananabread. Please see the <a href="#troubleshooting">Troubleshooting</a> section below for more information.</p>
              <p>Technical Details: <span class="details"></span></p>
            </div>
          </div>
          <div class="status-content ingame hide">
            <a class="fullscreen-button resume">Resume</a>
            <a class="fullscreen-button quit">Quit</a>
          </div>
          <div class="status-content fullscreen-buttons hide">
            <div class="resolution-message">To play, choose a resolution:</div>
            <a class="fullscreen-button low-res">Low Resolution</a>
            <a class="fullscreen-button high-res">High Resolution</a>
            <div class="warning">Warning: High Resolution mode will run more slowly on older/slower machines.</div>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="title">Gameplay Instructions</div>
          <ul>
            <li>Move with WASD, jump with space, look around with the mouse.</li>
            <li>Shoot with the mouse, change weapons with 1-5.</li>
            <li>You can change some settings using the main menu (press 0 or <code>`</code>). For example, add another bot with "add bot", or change the resolution with options->res.</li>
            <li>'e' toggles edit mode, which lets you fly around the map and actually modify it.</li>
            <li>Press 9 to toggle thirdperson mode (to see your own character)</li>
          </ul>
        </p>
      </div>
      <div class="section" id="troubleshooting">
        <div class="title">Troubleshooting</div>
        <p>
          Please note that up to date versions of modern browers are needed to run this demo, and it will not launch if it detects crucial features are missing.
          <ul>
            <li>The demo works properly in the stable releases of Firefox (since August 2012) and Chrome (since September 2012).</li>
            <li>The demo should also work in any browser that supports the necessary web standards: Pointer lock, WebGL, compressed textures, fullscreen, and typed arrays.</li>
            <li>If you have trouble with WebGL, get help <a href="http://get.webgl.org/">here</a>.</li>
          </ul>
        </p>
        <p>
          See the project <b><a href="https://github.com/kripken/BananaBread/wiki/FAQ">FAQ</a></b> (specifically the technical part) for solutions to common problems.
        </p>
        <p>
          Known issues:
          <ul>
            <li>Internet Explorer can't run the demo because it does not support WebGL yet. Please ask Microsoft to support it.</li>
            <li>Older versions of Safari lack Float64Array and cannot run the compiled code.</li>
            <li>Sound <a href="https://code.google.com/p/chromium/issues/detail?id=138454">has some glitches in Chrome</a>.</li>
            <li>Mesa on Firefox 15 on Linux does not support compressed textures, but it <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=774134">works in Firefox 16</a>.</li>
          </ul>
        </p>
        <div class="title">Multiplayer</div>
        <p>
          Experimental multiplayer is enabled on Level 6. In order to play you must do the following things:
          <ul>
            <li>Run the latest version of <a href="http://nightly.mozilla.org">Firefox Nightly</a>. You must close all other versions of Firefox before starting Nightly or run Nightly with '-no-remote'. If you already have Nightly installed, make sure it's up to date before proceeding.</li>
            <li>Enable WebRTC in Nightly by navigating to 'about:config'. Search for 'media.navigator.enabled' and 'media.peerconnection.enabled' and set them to 'true'. Restart Nightly.</li>
          </ul>
        </p>
        <p>
          Known issues:
          <ul>
            <li>WebRTC is still experimental and does not work in some network configurations at this time. If the game loads but you are unable to connect, this may be the issue.</li>
            <li>You must stay in fullscreen mode to host or join a game and to stay connected in multiplayer. If you exit fullscreen, incoming connection attempts will fail and any active connections may be broken.</li>
            <li>The game currently ends when the map timer runs out.</li>
          </ul>
        </p>
        </div>
      </div>
      <div class="section">
        <p><a href="index.html">&lt; Back to Main Page</a></p>
      </div>
    <canvas id="canvas" class="hide" oncontextmenu="event.preventDefault()"></canvas>
    <!--textarea id="stdout" cols="100" rows="8"></textarea-->
    <script type='text/javascript' src='js/game-setup.js'></script>
    <script src="//www.mozilla.org/tabzilla/media/js/tabzilla.js"></script>
  </body>
</html>

